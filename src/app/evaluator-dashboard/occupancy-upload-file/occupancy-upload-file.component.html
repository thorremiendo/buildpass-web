<div class="container">
  <h4>Please select a document/file</h4>
  <mat-form-field appearance="outline">
    <mat-label>Choose</mat-label>
    <input
      type="text"
      placeholder="Select Document"
      matInput
      [formControl]="selectedDocument"
      [matAutocomplete]="auto"
    />
    <mat-icon matSuffix>arrow_drop_down</mat-icon>
    <mat-autocomplete #auto="matAutocomplete">
      <mat-option
        *ngFor="let documents of filteredDocuments | async"
        [value]="documents.name"
        (click)="onDocumentSelected()"
      >
        {{ documents.name }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <!-- <mat-form-field appearance="outline">
    <mat-label>Choose Existing BP Number</mat-label>
    <mat-select [(value)]="selectedOldBpNumber">
      <mat-option
        *ngFor="let item of oldBpList"
        value="{{ item.generated_application_id }}"
        >{{ item.old_permit_number }}</mat-option
      >
    </mat-select>
  </mat-form-field> -->
  <ngx-dropzone
    (change)="onSelect($event, 'selectedFile')"
    [multiple]="false"
    accept="application/pdf"
    class="mt-3"
  >
    <ngx-dropzone-label>Click here to upload file! </ngx-dropzone-label>
    <ngx-dropzone-preview
      *ngIf="selectedFile"
      [removable]="true"
      (removed)="onRemove('selectedFile')"
      class="mx-auto"
    >
      <ngx-dropzone-label
        >{{ selectedFile.name }} ({{ selectedFile.type }})</ngx-dropzone-label
      >
    </ngx-dropzone-preview>
  </ngx-dropzone>
  <button
    class="text-right mt-3"
    mat-raised-button
    color="primary"
    (click)="handleUploadOccupancyFile()"
    [disabled]="isLoading"
  >
    Submit
  </button>
  <ng-container *ngIf="isLoading">
    <div>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
  </ng-container>
</div>
