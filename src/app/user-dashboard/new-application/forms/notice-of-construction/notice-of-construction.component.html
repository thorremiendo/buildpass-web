<div class="d-flex justify-content-center mt-5" *ngIf="isLoading">
  <mat-spinner></mat-spinner>
</div>
<mat-card style="width: 100%" *ngIf="!isLoading">
  <mat-card-title class="p-3">Notice of Construction</mat-card-title>
  <hr />
  <mat-card-content>
    <p class="ml-2">
      1. After filling out the form, please click the download/save button on
      the right.
    </p>
    <ngx-extended-pdf-viewer
      [src]="'../../../../assets/forms/Notice_of_Construction.pdf'"
      [showToolbar]="true"
      [showSidebarButton]="false"
      [showFindButton]="false"
      [showPagingButtons]="false"
      [showZoomButtons]="true"
      [showPresentationModeButton]="true"
      [showOpenFileButton]="false"
      [showPrintButton]="false"
      [showDownloadButton]="true"
      [showBookmarkButton]="false"
      [showSecondaryToolbarButton]="true"
      [showRotateButton]="false"
      [showHandToolButton]="false"
      [showScrollingButton]="false"
      [showSpreadButton]="false"
      [showPropertiesButton]="false"
      [useBrowserLocale]="true"
      height="500px"
      zoom="80%"
      [(formData)]="formData"
    >
    </ngx-extended-pdf-viewer>
    <p class="ml-2 mt-4">2. Please Upload the Notarized Form.</p>
    <ngx-dropzone
      (change)="onSelect($event, 'noticeOfConstruction')"
      [multiple]="false"
      class="mt-3"
    >
      <ngx-dropzone-label>Click here to upload file! </ngx-dropzone-label>
      <ngx-dropzone-preview
        *ngIf="noticeOfConstruction"
        [removable]="true"
        (removed)="onRemove('noticeOfConstruction')"
        class="mx-auto"
      >
        <ngx-dropzone-label
          >{{ noticeOfConstruction.name }} ({{
            noticeOfConstruction.type
          }})</ngx-dropzone-label
        >
      </ngx-dropzone-preview>
    </ngx-dropzone>
    <div class="d-flex justify-content-between mt-5 mb-3">
      <button mat-raised-button color="accent" (click)="callSaveAsDraft()">
        Save as Draft
      </button>
      <button
        mat-raised-button
        color="primary"
        (click)="callNext()"
        [disabled]="!noticeOfConstruction"
      >
        Next
      </button>
    </div>
  </mat-card-content>
</mat-card>
