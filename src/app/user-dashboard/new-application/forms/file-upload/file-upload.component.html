<div class="file-upload container-fluid">
  <div class="document">
    <div class="file-description">
      {{ description }}
    </div>
    <div class="file-actions">
      <div *ngIf="!loading">
        <a *ngIf="info" [href]="info" target="_blank">Info</a>
        
        <a *ngIf="filePath" [href]="filePath" target="_blank">View</a>

        <span *ngIf="filePath"
          (click)="toggleEditMode()"
        >
          {{ editMode ? "Close" : "Change" }}
        </span>

        <mat-icon *ngIf="filePath"> check_circle </mat-icon>

        <mat-slide-toggle
          *ngIf="!filePath && optional"
          [(ngModel)]="isOptional"
          (change)="toggleOptional($event)"
        >
          Not Applicable
        </mat-slide-toggle>
      </div>

      <mat-spinner *ngIf="loading" [diameter]="20"></mat-spinner>
    </div>
  </div>

  <div *ngIf="!isOptional && (!filePath || editMode)">
    <div class="file-drop">
      <ngx-dropzone
        (change)="onSelect($event)"
        accept="application/pdf"
        [multiple]="false"
        [disabled]="loading"
      >
        <ngx-dropzone-label>
          Click here or drop file to upload.
        </ngx-dropzone-label>
      </ngx-dropzone>
    </div>
  </div>
</div>
