<div id="e-signature">
  <div id="e-sig-container" cdkDrag (cdkDragEnded)="dragEnd($event)">
    <div id="resize-container">
      <div cdkDragHandle id="e-sig-image-container">
        <img [src]="esigSource" />
      </div>
      <div
        class="resize top-left-resize"
        draggable="true"
        (dragstart)="dragStart($event)"
        (dragover)="dragOver($event)"
        (drag)="resize($event)"
      ></div>
      <div
        class="resize top-right-resize"
        draggable="true"
        (dragstart)="dragStart($event)"
        (dragover)="dragOver($event)"
        (drag)="resize($event)"
      ></div>
      <div
        class="resize bottom-left-resize"
        draggable="true"
        (dragstart)="dragStart($event)"
        (dragover)="dragOver($event)"
        (drag)="resize($event)"
      ></div>
      <div
        class="resize bottom-right-resize"
        draggable="true"
        (dragstart)="dragStart($event)"
        (dragover)="dragOver($event)"
        (drag)="resize($event)"
      ></div>
    </div>
  </div>
  <ng-container *ngIf="!isLoading">
    <pdf-viewer
      [show-all]="false"
      [(page)]="targetPage"
      [render-text]="true"
      [original-size]="true"
      [fit-to-page]="false"
      [src]="pdfSource"
      [show-borders]="true"
    ></pdf-viewer>
  </ng-container>

  <div class="pdf-actions">
    <div class="pdf-paginator">
      <button mat-button (click)="previousPage()">
        <mat-icon [inline]="true">arrow_back</mat-icon>
      </button>
      <div class="current-page">
        {{ targetPage }}
      </div>
      <button mat-button (click)="nextPage()">
        <mat-icon [inline]="true">arrow_forward</mat-icon>
      </button>
    </div>

    <button
      mat-button
      class="submit"
      (click)="insertEsig()"
      [disabled]="isLoading"
    >
      Insert Signature
    </button>
  </div>
  <ng-container *ngIf="isLoading">
    <div>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
  </ng-container>
</div>
{{ pdfSource ? "TRUE" : "FALSE" }}
