<div>
  <p style="font-weight: bold">
    Input applicant details for Building Permit Number:
    <span>{{ data.oldBpInfo.old_permit_number }}</span>
  </p>
  <div class="row justify-content-center" [formGroup]="oldBpDetailsForm">
    <div class="col">
      <p>Basic Details</p>
      <div class="col-md-12">
        <mat-form-field appearance="outline">
          <mat-label>Type of Ownership</mat-label>
          <mat-select [(value)]="typeOfOwnership">
            <mat-option value="1">Corporation</mat-option>
            <mat-option value="2">Individual</mat-option>
            <mat-option value="3">Co-Owner</mat-option>
            <mat-option value="4">Spouse</mat-option>
          </mat-select>
        </mat-form-field>
        <ng-container *ngIf="typeOfOwnership == 1">
          <p>Please input name of corporation</p>
          <mat-form-field appearance="outline">
            <mat-label>Corporation Name</mat-label>
            <input
              type="text"
              matInput
              formControlName="corporation_name"
            /> </mat-form-field
        ></ng-container>
        <ng-container *ngIf="typeOfOwnership == 2">
          <p>Please input name of owner</p>
          <div class="row">
            <div class="col-md-6">
              <mat-form-field appearance="outline">
                <mat-label>Fist Name</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="first_name"
                  required
                />
              </mat-form-field>
            </div>

            <div class="col-md-6">
              <mat-form-field appearance="outline">
                <mat-label>Last Name</mat-label>
                <input
                  type="text"
                  matInput
                  formControlName="last_name"
                  required
                />
              </mat-form-field>
            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="typeOfOwnership == 3">
          <div class="row">
            <div class="col-6">
              <mat-form-field appearance="outline">
                <mat-label>First Name</mat-label>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="firstName"
                  [ngModelOptions]="{ standalone: true }"
                />
              </mat-form-field>
            </div>
            <div class="col-6">
              <mat-form-field appearance="outline">
                <mat-label>Last Name</mat-label>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="lastName"
                  [ngModelOptions]="{ standalone: true }"
                />
              </mat-form-field>
            </div>
          </div>
          <div class="d-flex flex-row-reverse">
            <button mat-raised-button color="basic" (click)="addOwner()">
              Add Owner
            </button>
          </div>
          <ng-container *ngFor="let item of coOwners; let i = index">
            <div
              class="co-owner d-flex align-items-center justify-content-between"
            >
              <div class="row">
                <p>{{ i + 1 }} {{ item.first_name }} {{ item.last_name }}</p>
              </div>
              <div><mat-icon (click)="removeOwner(i)">close</mat-icon></div>
            </div>
          </ng-container>
        </ng-container>
        <ng-container *ngIf="typeOfOwnership == 4">
          <div class="row">
            <div class="col-6">
              <mat-form-field appearance="outline">
                <mat-label>Wife First Name</mat-label>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="wifeFirstName"
                  [ngModelOptions]="{ standalone: true }"
                />
              </mat-form-field>
            </div>
            <div class="col-6">
              <mat-form-field appearance="outline">
                <mat-label>Wife Last Name</mat-label>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="wifeSecondName"
                  [ngModelOptions]="{ standalone: true }"
                />
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <mat-form-field appearance="outline">
                <mat-label>Husband First Name</mat-label>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="husbandFirstName"
                  [ngModelOptions]="{ standalone: true }"
                />
              </mat-form-field>
            </div>
            <div class="col-6">
              <mat-form-field appearance="outline">
                <mat-label>Husband Last Name</mat-label>
                <input
                  type="text"
                  matInput
                  [(ngModel)]="husbandSecondName"
                  [ngModelOptions]="{ standalone: true }"
                />
              </mat-form-field>
            </div>
          </div>
        </ng-container>
        <mat-form-field appearance="outline">
          <mat-label>Type of Occupancy</mat-label>
          <mat-select [(value)]="typeOfOccupancy">
            <mat-option value="1">Residential</mat-option>
            <mat-option value="2">Commercial</mat-option>
            <mat-option value="3">Institutional</mat-option>
            <mat-option value="4">Industrial</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-between mt-5">
    <button mat-raised-button color="accent" (click)="onNoClick()">
      Close
    </button>
    <button
      mat-raised-button
      color="primary"
      (click)="submit()"
      [disabled]="isLoading"
    >
      Submit
    </button>
  </div>
  <ng-container *ngIf="isLoading">
    <div>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
  </ng-container>
</div>
